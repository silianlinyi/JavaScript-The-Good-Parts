# 第四章 函数

> 所有的过失在未犯以前，都已定下应处的惩罚。————威廉·莎士比亚，《Measure for Measure》

在JavaScript中，函数一共有4种调用模式：方法调用模式、函数调用模式、构造器调用模式和apply调用模式。

### 方法调用模式

### 函数调用模式

### 构造器调用模式

### apply调用模式

### 模块Module

我们可以使用函数和闭包来构造模块。模块是一个提供接口却隐藏状态与实现的函数或对象。

    Function.prototype.method = function(name, func) {
        this.prototype[name] = func;
        return this;
    };

    String.method('deentityify', function() {
        // 字符实体表
        var entity = {
            quot: '"',
            lt: '<',
            gt: '>'
        };

        return function() {
            return this.replace(/&([^&;]+);/g, function(a, b) {
                var r = entity[b];
                return typeof r === 'string' ? r : a;
            });
        };
    }());
